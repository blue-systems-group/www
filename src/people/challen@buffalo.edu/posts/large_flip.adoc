---
working: true
spelling_exceptions:
  - Auth0
  - Legos
  - HotCRP
---

== Flipping a Large Class: Part 1

[.snippet]
//
--
//
[.lead]
//
This semester I designed and deployed a link:/courses/ub-199-fall-2016/[new
course on the internet] in a
https://en.wikipedia.org/wiki/Flipped_classroom[flipped] format.
//
Despite nominally being a seminar, the course enrolled 440 students and met
in two large groups.
//
To pull this off, we had to overcome many challenges--some that were
anticipated, others that caught us by surprise footnote:[Although you could
argue--and I would agree--that all of them should have been easy to
anticipate.].
//
Overall the course was a lot of fun.
//
Here's my attempt to share a bit of what we learned along the way.

This is the first part of a planned three-part series.
//
Part one focuses on the infrastructure and management challenges of flipping
a large course.
//
Part two will discuss activity design and deployment.
//
Part three will describe the video delivery system we built.
//
--

=== What Is A/Our Flipped Classroom?

To begin, just brief overview of the flipped classroom model for the
uninitiated.
//
In a flipped classroom you flip the lecturing _out of_ class and flip the
homework or course activities _into_ class.
//
The goal, as I understand it, is to align the things that benefit from
supervision (assignments) with the hours that you supervise students (class).
//
I also consider this approach a better match to what technology can do
reasonably well (monitor video viewing) and can't do yet (provide interactive
help).
//
I recorded a https://www.youtube.com/watch?v=_i_BgT26iYM[short explanation of
the flipped classroom model] using Legos borrowed from my friend Marlon.

In _our_ flipped classroom, students watch around 20 5-minute lessons
each week covering various topics related to how the internet works.
//
https://www.youtube.com/playlist?list=PLk97mPCd8nvbxGGfkYkBXrSEvpTc1xTF8[Here's
the entire playlist], which ended up totaling 292 videos over 15 weeks.
//
On Monday and Wednesday students attend a 50-minute meeting where they
complete an activity in groups of two or four.
//
We refer to these as _activity sections_ to distinguish them from lectures.
//
Course recitations are taught on Thursdays and Fridays and are taught by
faculty--as required by the
https://www.buffalo.edu/ubcurriculum/seminar.html[UB Seminar Program].
//
Grading is primarily based on participation.
//
Students receive credit for watching the short videos before the deadline and
attending and participating in the activity sections.
//
They are also required to record three new video explanations of course
concepts as assignments.

Why this 440-student class is allowed to abuse the label "seminar" is a long
story.
//
Here's the short version.
//
UB decided that all freshman should have a 28-student seminar taught by a
faculty member.
//
[.pullquote]#Unfortunately, the only departments with enough faculty to teach
these new required seminars are ones with too many faculty and too few
students.#
//
UB refers to this, euphemistically, as "spare instructional capacity."

In computer science, we have the opposite problem: too many students and too
few faculty.
//
So initially we had two options.
//
One was to find faculty volunteers to teach the 16 small seminars we would
have had to offer to accommodate all incoming freshman.
//
I tried that.
//
It didn't work.
//
The second option was let our students take seminars on subjects like "The
Writing of Food Politics" footnote:[Which sounds interesting, or at least "I
can't figure out what it is about by the title" interesting.].
//
Not that I have any problem with computer scientists having a broad-based
liberal arts education, but that seemed like a missed opportunity.
//
Particularly given that our department doesn't have a "Wow, CS is cool!"
course in the first year.

Luckily for us, several other departments convinced the seminar program to
grandfather in existing large required courses.
//
After some negotiations we received permission to hold 100-student lectures
as long as they were accompanied by a seminar-size recitation
//
footnote:[The observant will note that that's not quite what we did, but at
some point people stop paying attention.].
//
And that created an opportunity to rethink the seminar experience as a huge
flipped classroom.

=== Step 1: Get a Room

link:/people/gjbunyea[Greg] and I spent the months and weeks before the class
launched anticipating and addressing lots of potential problems.
//
But it wasn't until a few days before class started that we encountered one
of the biggest challenges to teaching a huge flipped class.
//
*All the classrooms we were assigned were completely unsuited to group
activities.*

The course was originally planned as three 100-student sections taught at the
same time in neighboring classrooms.
//
But when we visited those classrooms, we found seats bolted to tables,
stadium seating, and narrow aisles.
//
[.pullquote]#Most current university classrooms are purpose-built for
lecturing.#
//
I guess that's why they call them lecture halls...

++++
<div class="row" style="margin-top:10px; margin-bottom:10px;">
  <div class="col-xs-offset-1 col-xs-10" style="border:1px solid grey; padding-top:10px;">
    <div class="row">
      <div class="col-xs-4">
        <a href="/assets/img/posts/large_flip/lecture1.jpg" data-toggle="lightbox"
           data-gallery="lecture-rooms"
           data-footer="This is what they gave you...">
          <img src="/assets/img/posts/large_flip/lecture1.jpg" alt="Lecture hall"
               class="img-responsive">
        </a>
      </div>
      <div class="col-xs-4">
        <a href="/assets/img/posts/large_flip/lecture2.jpg" data-toggle="lightbox"
           data-gallery="lecture-rooms"
           data-footer="This is what they gave you...">
          <img src="/assets/img/posts/large_flip/lecture2.jpg" alt="Lecture hall"
               class="img-responsive">
        </a>
      </div>
      <div class="col-xs-4">
        <a href="/assets/img/posts/large_flip/lecture3.jpg" data-toggle="lightbox"
           data-gallery="lecture-rooms"
           data-footer="This is what they gave you...">
          <img src="/assets/img/posts/large_flip/lecture3.jpg" alt="Lecture hall"
               class="img-responsive">
        </a>
      </div>
      <div class="col-xs-12">
        <h5>Here's what they gave you...</h5>
      </div>
    </div>
  </div>
</div>
++++

Could we have used these classrooms?
//
Sure.
//
We could have limited the activity group size to two so that students could
work side-by-side, the only configuration the rooms allowed.
//
Our teaching assistants could have developed huge calves from hiking up and
down the steep stairways and thin waists from squeezing through narrow aisles
to reach groups that needed help.
//
But that sounded terrible.
//
So we went to look for other solutions.

And then--a miracle.
//
We found Bert's.
//
Bert's is an on-campus cafeteria.
//
I've noticed it for years, mainly because it has that lovely cafeteria smell
that you can't miss as you walk by.
//
Bert's seats 500 students in two equal-sized rooms, mostly at tables of four.
//
And at our seminar meeting times--9AM and 4PM--it is largely empty.
//
Technically, half of the cafeteria is closed at 4PM, which was good because
we had 340 students we wanted to bring down at that time.

++++
<div class="row" style="margin-top:10px; margin-bottom:10px;">
  <div class="col-xs-offset-1 col-xs-10" style="border:1px solid grey; padding-top:10px;">
    <div class="row">
      <div class="col-xs-6">
        <a href="/assets/img/posts/large_flip/berts1.jpg" data-toggle="lightbox"
           data-gallery="berts-rooms"
           data-footer="...but this is what you need.">
          <img src="/assets/img/posts/large_flip/berts1.jpg" alt="Lecture hall"
               class="img-responsive">
        </a>
      </div>
      <div class="col-xs-6">
        <a href="/assets/img/posts/large_flip/berts2.jpg" data-toggle="lightbox"
           data-gallery="berts-rooms"
           data-footer="...but this is what you need.">
          <img src="/assets/img/posts/large_flip/berts2.jpg" alt="Lecture hall"
               class="img-responsive">
        </a>
      </div>
    </div>
    <div class="row" style="margin-top:10px;">
      <div class="col-xs-6">
        <a href="/assets/img/posts/large_flip/berts3.jpg" data-toggle="lightbox"
           data-gallery="berts-rooms"
           data-footer="...but this is what you need.">
          <img src="/assets/img/posts/large_flip/berts3.jpg" alt="Lecture hall"
               class="img-responsive">
        </a>
      </div>
      <div class="col-xs-6">
        <a href="/assets/img/posts/large_flip/berts4.jpg" data-toggle="lightbox"
           data-gallery="berts-rooms"
           data-footer="...but this is what you need.">
          <img src="/assets/img/posts/large_flip/berts4.jpg" alt="Lecture hall"
               class="img-responsive">
        </a>
      </div>
      <div class="col-xs-12">
        <h5 class="spelling_exception">...but this is what you need.</h5>
      </div>
    </div>
  </div>
</div>
++++

Getting permission to use Bert's was so easy it almost made me pinch myself:

[quote]
____
Me: Can I bring 340 students down here at 4PM?

Bert's Manager: Sure.

Me: Really?

Bert's Manager: Sure.

Me: Do you really work at UB?

Bert's Manager: Sure.
____

A few days later the same agreeable manager allowed us to use half of Bert's
at 9AM, when it's open and serving breakfast.
//
We only have 99 students at that time, which doesn't interfere with
early-morning diners.
//
And that was that.

To guide students to where their group is located, we created an online
https://www.internet-class.org/img/berts.png[seating chart].
//
Students are assigned to new groups each week via email.
//
When they arrive in class, they use this to locate their table.
//
The first few times we tried this, class started with 10 minutes of pure
chaos.
//
But after a few iterations, students got the hang of it.
//
Past that point, they find their groups quickly and get started.
//
Our fantastic undergraduate teaching assistant circulate constantly among 12
or 16 students to keep them on task and answer questions.

There's something incredibly exciting about having hundreds of like-minded
students packing the same space and working in close proximity.
//
But the way it came about was a fortunate accident, and it really opened my
eyes to something that should have been obvious to me.
//
[.pullquote]#The lecture model is literally _physically embedded_ into
today's campuses.#
//
That makes running large activity-based or flipped classes extremely
challenging.
//
I've heard that some universities are tearing out lecture halls and trying to
reuse the space, but you can imagine how hard that would be.

Until campuses are physically redesigned to meet the needs of activity-based
classes, finding a suitable room will be a major challenge.
//
Next time I teach this class—which
link:/posts/2016-10-22-the-best-way-to-not-get-tenure[ will not be at UB]—it
will be the first thing I'll do.

=== Step 2: Get Your Coding Hand Dirty

The physical plant isn't the only part of the university that is unprepared
for the challenge of flipping a large class.
//
The electronic tools are not anywhere close to being up to the task either.
//
So for your sake I hope that you have a coding hand--and that it is
http://idioms.thefreedictionary.com/get+hands+dirty[ fairly dirty].
//
Because you're going to need it.

Consider making class announcements.
//
With 340 students working in two separate large cafeteria rooms, it becomes
impossible to use the beginning of class as an broadcast period.
//
There is no "front" of the room to deliver them from in the typical fashion.
//
Mounting a table and shouting at the top of my lungs is something that I'm
not interested in doing
//
footnote:[It's also frowned on by the cafeteria staff.].

For that reason, email becomes a much more important way of communicating
with students.
//
So let's say you want to send an email announcement to the entire class.
//
That would seem simple, right?
//
Wrong.

At UB, sending a class email not a simple task.
//
First, I have to log in to a broken course management tool.
//
That log in has an obvious race condition and so it fails about 10% of the
time.
//
Then you realize that the course management system has needlessly broken your
class into four chunks that need to be emailed separately.
//
Then you have to remember that the system refers to email as "notifying"
students for no particular reason.
//
Next, fight your way through a few more slow, [.spelling_exception]#crashy#,
and completely mobile-unfriendly screens.
//
Now you find a web form encouraging you to generate an email with the subject
"<From the desk of Geoffrey Challen>".
//
Yes--those brackets are in the original.
//
Now, repeat the whole process three more times.
//
[.pullquote]#Imagine trying to do this five minutes before a class you need
to cancel due to a power outage.#
//
No thanks.

But hey--I'm a computer scientist.
//
I'm familiar with cutting-edge software packages like
https://www.gnu.org/software/mailman/[Mailman]
//
footnote:[Yes, you detected sarcasm!
//
But in my opinion Mailman is as underappreciated as it is crufty.],
//
which allows me to create and manage email lists.
//
All I need is a programmatic way to get an up-to-date list of all the email
addresses for the students in my class.
//
That should be easy, right?

Wrong again.
//
As far as I can tell, there is no API allowing faculty to retrieve updated
information for students in their class.
//
And so not only can you not generate email lists for sending mass email
messages, but good luck generating personalized emails or seating charts for
exams, creating accounts allowing students access to class websites or
forums, or completing any other task that _simply needs an up-to-date list of
the current students in the class_.

Luckily, I was familiar with these challenges from teaching other large
courses.
//
I manually downloaded spreadsheets with student information a few times and
used them to start the process of updating various course resources.
//
But I finally broke down and did what any good computer scientist would do:
wasted several days completely automating the process.
//
You don't want to know the details and I don't want to share them with you,
but suffice to say that gory may not be a strong enough word.
//
But after several minutes of http://casperjs.org/[`casperjs`]-enabled web
interface banging, I have a JSON document with student names, email
addresses, other metadata--even `base64` encoded photos.

But that tool is only one part of a complete set of tools that I've had to
develop this semester for doing flipped-classroom administration.
//
That toolchain now totals 28 JavaScript executables and around 2000
non-commenting lines of code.
//
It includes individual script that perform the following tasks:

. Update various Mailman mailing lists including ones that reach all
students, students by their official class assignment, staff, and recitation
instructors.
//
. Create accounts using https://auth0.com/[Auth0] for students allowing them
to use the https://www.internet-class.org[main video delivery website] and
the http://www.discourse.org/[Discourse]
https://discourse.internet-class.org[class forum]. No--I do not want to
figure out my university's authentication system and get permission to use
it. I just want something that works, and Auth0 does.
//
. Randomly assign students to groups with some demographic-based meddling.
//
. Assign undergraduate teaching assistants to table groups in ways that
respect the geometry of our flipped classroom.
//
. Generate customized emails informing students of their group assignment and
providing the activity description.
//
. Parse and correct the human-entered attendance records--which contain a lot
of mistakes--and calculate that component of each student's grade.
//
. Access the video delivery database to record how many videos a student
watched before their deadlines and calculate that component of their grade.
//
. Integrate with the https://hotcrp.com/[HotCRP] system that we are using to
review videos and calculate that component of each student's grade.
//
. Combine all grading components to generate custom grade emails and export
the data into formats allowing me to set midterm grades.

I don't want to toot my own horn here.
//
But I don't think it's going too far out on a limb to say that most if not
all history faculty could not have built these tools.
//
I'm not sure that some of my own computer science colleagues could--or would
have bothered.

So not only do large flipped classrooms create physical infrastructure
challenges, they also create technological infrastructure ones as well.
//
I was fortunate to have the skills required to address these challenges, as
well as some experience with similar tools from previous courses.

=== Next Time

We were really luck that Bert's worked out for us this semester.
//
Had the class been held at a time when the cafeteria was busy, we would have
been out of luck.
//
Next time I'd find a good space first--probably Bert's again at UB, since
there just aren't many options--and schedule the course around its
availability.

Hopefully flipped and activity-based courses will become more common.
//
But until then, I don't anticipate the tools we needed being part of standard
deployed course management software.
//
Remember--at this point even emailing all of the students in the class is
painful, a mode of communication that becomes increasingly important in a
flipped class.
//
Luckily now I have a lot of these tools built.
//
If you're starting from scratch I'd suggest thinking about how you are going
to handle some of these management challenges.
//
That probably starts with determining how to integrate with the tools you
_do_ have.

In the next installment of this series of posts I'll discuss the challenge of
formulating, deploying, and supervising two dozen new course activities.

// vim: ts=2:sw=2:et
